<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>CRUD JS</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
		<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" /> -->
		<script src="https://cdn.tailwindcss.com"></script>
	</head>
	<body>
		<div class="container-xl mx-auto">
			<h1 class="text-2xl md:text-3xl lg:text-4xl text-center font-medium text-black py-8 bg-blue-200">CRUD Application in <span class="text-indigo-600">JavaScript</span></h1>

			<div class="flex flex-col xl:flex-row py-5 text-lg">
				<div class="text-center xl:w-2/3 p-4">
					<div>
						<h2 class="text-indigo-600 font-medium text-2xl pb-5">User Detail</h2>
						<label class="float-left" for="userName">Username :</label>
						<input
							class="block w-full mb-4 p-2 border border-gray-500 rounded-none focus:ring focus:ring-indigo-300 focus:outline-none"
							type="text"
							placeholder="Enter your name"
							required
							id="userName"
						/>
						<label class="float-left" for="userEmail">Email :</label>
						<input
							class="block w-full mb-4 p-2 border border-gray-500 rounded-none focus:ring focus:ring-indigo-300 focus:outline-none"
							type="email"
							pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
							placeholder="Enter your email"
							required
							id="userEmail"
						/>

						<label class="float-left" for="userPassword">Password :</label>
						<input
							class="block w-full mb-4 p-2 border border-gray-500 rounded-none focus:ring focus:ring-indigo-300 focus:outline-none"
							type="password"
							placeholder="Enter your password"
							required
							id="userPassword"
						/>
						<p id="InputIsEmptyMessage" class="text-left text-red-600 text-xl"></p>
						<button type="submit" class="block w-full border border-indigo-500 text-lg py-2 px-6 bg-indigo-600 text-white hover:bg-white hover:text-indigo-400" onclick="addUser()">
							Add user
						</button>
					</div>
				</div>
				<div class="xl:w-2/3 p-4">
					<div class="text-center">
						<h2 class="text-indigo-600 font-medium text-2xl pb-12">User Table</h2>
						<table class="table-auto border border-gray-500 mx-auto w-full">
							<thead>
								<tr>
									<th width="25%" class="border border-gray-500 px-4 py-2">UserName</th>
									<th width="25%" class="border border-gray-500 px-4 py-2">Email</th>
									<th width="25%" class="border border-gray-500 px-4 py-2">Password</th>
									<th class="border border-gray-500 px-4 py-2">Actions</th>
								</tr>
							</thead>
							<tbody class="js-user-list">
								<!-- <tr>
									<td class="border border-gray-500 px-4 py-2"></td>
									<td class="border border-gray-500 px-4 py-2"></td>
									<td class="border border-gray-500 px-4 py-2"></td>
									<td class="border border-gray-500 px-4 py-2">
										<button class="border border-blue-500 text-lg py-2 px-6 bg-blue-600 text-white hover:bg-white hover:text-blue-400">
											<i class="fa-solid fa-pen-to-square"></i>
										</button>
										<button class="border border-red-500 text-lg py-2 px-6 bg-red-600 text-white hover:bg-white hover:text-red-400">
											<i class="fa-solid fa-trash"></i>
										</button>
									</td>
								</tr> -->
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<script>
			const addUser = () => {
				const userNameInput = document.getElementById("userName")
				const userEmailInput = document.getElementById("userEmail")
				const userPasswordInput = document.getElementById("userPassword")

				const userName = userNameInput.value
				const userEmail = userEmailInput.value
				const userPassword = userPasswordInput.value

				const newRowHTML = `
					<tr>
						<td class="border border-gray-500 px-4 py-2">${userName}</td>
						<td class="border border-gray-500 px-4 py-2">${userEmail}</td>
						<td class="border border-gray-500 px-4 py-2">${userPassword}</td>
						<td class="border border-gray-500 px-4 py-2">
							<button class="border border-blue-500 text-lg py-2 px-6 bg-blue-600 text-white hover:bg-white hover:text-blue-400" onclick="editUser(this)">
								<i class="fa-solid fa-pen-to-square"></i>
							</button>
							<button class="border border-red-500 text-lg py-2 px-6 bg-red-600 text-white hover:bg-white hover:text-red-400" onclick="deleteUser(this)">
								<i class="fa-solid fa-trash"></i>
							</button>
						</td>
					</tr>
				`

				const InputIsEmptyMessage = document.getElementById("InputIsEmptyMessage")
				if (userName == "" && userEmail == "" && userPassword == "") {
					InputIsEmptyMessage.innerHTML = `Please enter all user information`
				} else if (userName == "") {
					InputIsEmptyMessage.innerHTML = `Please enter user name`
				} else if (userEmail == "") {
					InputIsEmptyMessage.innerHTML = `Please enter user email`
				} else if (userPassword == "") {
					InputIsEmptyMessage.innerHTML = `Please enter user password`
				} else {
					InputIsEmptyMessage.innerHTML = ``

					document.querySelector(".js-user-list").insertAdjacentHTML("beforeend", newRowHTML)

					userNameInput.value = ""
					userEmailInput.value = ""
					userPasswordInput.value = ""
				}
			}

			const editUser = () => {}

			const updateRow = () => {}

			const deleteUser = (button) => {
				const confirmation = confirm("Are you sure you want to delete the user?")
				const row = button.closest("tr")
				row.style.color = "red"
				if (confirmation) {
					const rowDelete = button.closest("tr")
					rowDelete.remove()
				}

				// const rowDelete = button.closest("tr")
				// rowDelete.remove()
			}
		</script>
	</body>
</html>
